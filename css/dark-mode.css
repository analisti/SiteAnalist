/* ============================================================================
   DARK MODE - TRANSIÇÕES SUAVES E MICROINTERAÇÕES
   ============================================================================ */

/* ========== RESET INICIAL ========== */
html {
  color-scheme: light dark;
}

/* ========== TRANSIÇÃO GLOBAL ========== */
* {
  transition: background-color 400ms cubic-bezier(0.2, 0, 0.2, 1),
              color 400ms cubic-bezier(0.2, 0, 0.2, 1),
              border-color 400ms cubic-bezier(0.2, 0, 0.2, 1),
              box-shadow 400ms cubic-bezier(0.2, 0, 0.2, 1);
}

/* ========== LIGHT MODE (DEFAULT) ========== */
:root {
  --color-bg: #f9f7f5;
  --color-bg-secondary: #ffffff;
  --color-bg-tertiary: #f0ebe6;
  --color-text: #1a1a1a;
  --color-text-muted: #6b6b6b;
  --color-border: #e0dcd9;
}

/* ========== DARK MODE ========== */
[data-theme="dark"] {
  --color-bg: #0f1923;
  --color-bg-secondary: #131d2a;
  --color-bg-tertiary: #1a2635;
  --color-text: #f0ebe6;
  --color-text-muted: #a8a8a8;
  --color-border: #2a3d4f;
}

/* ========== ANIMAÇÃO DE TRANSIÇÃO TEMA ========== */
body.theme-transitioning {
  animation: themeTransition 500ms cubic-bezier(0.2, 0, 0.2, 1);
}

@keyframes themeTransition {
  0% {
    opacity: 1;
    filter: brightness(1) blur(0px);
  }
  50% {
    opacity: 0.95;
    filter: brightness(0.98) blur(1px);
  }
  100% {
    opacity: 1;
    filter: brightness(1) blur(0px);
  }
}

/* ========== EVITAR TRANSIÇÃO EM ELEMENTOS ESPECÍFICOS ========== */
[data-theme-toggle],
[data-nav-toggle],
button,
a {
  transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* ========== MICROINTERAÇÕES ========== */
.btn:active {
  transform: scale(0.98);
}

.navbar__link:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* ========== ACCESSIBILITY - HIGH CONTRAST ========== */
@media (prefers-contrast: more) {
  :root {
    --color-border-light: #d0ccc9;
  }

  [data-theme="dark"] {
    --color-border: #3a4d5f;
  }

  .btn--primary {
    border: 2px solid currentColor;
  }

  .service-card {
    border-width: 2px;
  }
}

/* ========== REDUZIR MOVIMENTO ========== */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  body.theme-transitioning {
    animation: none;
  }
}

/* ========== PRINT STYLES ========== */
@media print {
  * {
    background: transparent;
    color: black;
    box-shadow: none;
    text-shadow: none;
  }

  [data-theme="dark"] {
    --color-bg: white;
    --color-text: black;
  }
}